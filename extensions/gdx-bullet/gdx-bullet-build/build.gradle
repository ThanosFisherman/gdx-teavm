project.ext.mainClassName = "com.github.xpenatan.gdx.html5.bullet.Main"

dependencies {
    implementation project(":extensions:gdx-bullet:gdx-bullet-base")
    implementation "com.github.xpenatan.jParser:jParser-core:$LibExt.jParserVersion"
    implementation "com.github.xpenatan.jParser:jParser-teavm:$LibExt.jParserVersion"
    implementation "com.github.xpenatan.jParser:jParser-cpp:$LibExt.jParserVersion"
    implementation "com.github.xpenatan.jParser:jParser-idl:$LibExt.jParserVersion"
}

tasks.register('generateNativeProject', JavaExec) {
    dependsOn classes
    setGroup("teavm")
    setDescription("Generate native project")
    mainClass.set(project.mainClassName)
    setClasspath(sourceSets.main.runtimeClasspath)
}


clean.doFirst {
    def buildPath = projectDir.toString() + "/jni/build/"
    if(new File(buildPath).exists()) {
        project.delete(files(buildPath))
    }
}